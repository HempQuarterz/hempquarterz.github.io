/**
 * Scholarly Theme - Ancient Text/Research/Knowledge/Wisdom Aesthetic
 * Parchment textures, floating letters, ink effects, candlelight
 */

/* ============================================================================
   COLOR PALETTE - Ancient Library & Candlelit Study
   ============================================================================ */

:root {
  /* Light Mode - Ancient Library */
  --parchment-light: #F4E8D8;
  --parchment-medium: #EDD9C0;
  --parchment-dark: #D4C4A8;
  --ink-dark: #3E2723;
  --ink-medium: #5D4037;
  --ink-light: #795548;
  --gold-accent: #D4AF37;
  --gold-hover: #C19A2E;
  --wood-dark: #654321;
  --wood-medium: #8B4513;
  --leather-brown: #704214;

  /* Base backgrounds */
  --bg-primary: var(--parchment-light);
  --bg-secondary: var(--parchment-medium);
  --text-primary: var(--ink-dark);
  --text-secondary: var(--ink-medium);
  --accent-primary: var(--gold-accent);
}

/* Dark Mode - Candlelit Study */
@media (prefers-color-scheme: dark) {
  :root {
    --parchment-dark: #2A2318;
    --parchment-medium: #1F1810;
    --parchment-light: #352B1E;
    --ink-light: #E8D5B5;
    --ink-medium: #D4C4A8;
    --ink-dark: #F5E6D3;
    --gold-accent: #D4AF37;
    --gold-hover: #E8C547;
    --candle-glow: #FFB74D;
    --candle-dim: #FF9800;

    --bg-primary: var(--parchment-dark);
    --bg-secondary: var(--parchment-medium);
    --text-primary: var(--ink-light);
    --text-secondary: var(--ink-medium);
    --accent-primary: var(--gold-accent);
  }
}

/* ============================================================================
   PARCHMENT BACKGROUND - SVG Texture Filter
   ============================================================================ */

.parchment-background {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -2;
  background: var(--bg-primary);
  filter: url(#parchmentTexture);
}

/* Light mode parchment gradient overlay */
.parchment-background::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: radial-gradient(
    ellipse at 50% 30%,
    rgba(244, 232, 216, 0.9) 0%,
    rgba(237, 217, 192, 0.7) 50%,
    rgba(212, 196, 168, 0.5) 100%
  );
  mix-blend-mode: overlay;
  opacity: 0.4;
}

@media (prefers-color-scheme: dark) {
  .parchment-background::before {
    background: radial-gradient(
      ellipse at 50% 30%,
      rgba(53, 43, 30, 0.9) 0%,
      rgba(31, 24, 16, 0.7) 50%,
      rgba(42, 35, 24, 0.5) 100%
    );
    opacity: 0.6;
  }
}

/* Age spots and wear marks */
.parchment-background::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image:
    radial-gradient(circle at 20% 30%, rgba(139, 69, 19, 0.03) 0%, transparent 3%),
    radial-gradient(circle at 75% 60%, rgba(101, 67, 33, 0.04) 0%, transparent 4%),
    radial-gradient(circle at 40% 80%, rgba(93, 64, 55, 0.02) 0%, transparent 2%),
    radial-gradient(circle at 85% 20%, rgba(112, 66, 20, 0.03) 0%, transparent 3%);
  opacity: 0.5;
}

/* ============================================================================
   CANDLE GLOW - Dark Mode Ambient Light
   ============================================================================ */

.candle-glow {
  position: fixed;
  top: -200px;
  left: 50%;
  transform: translateX(-50%);
  width: 800px;
  height: 800px;
  background: radial-gradient(
    ellipse at center,
    rgba(255, 183, 77, 0.06) 0%,
    rgba(255, 152, 0, 0.03) 40%,
    transparent 60%
  );
  z-index: -1;
  pointer-events: none;
  animation: candleFlicker 5s ease-in-out infinite;
  opacity: 0;
}

@media (prefers-color-scheme: dark) {
  .candle-glow {
    opacity: 1;
  }
}

@keyframes candleFlicker {
  0%, 100% {
    opacity: 0.04;
    transform: translateX(-50%) scale(1);
  }
  25% {
    opacity: 0.06;
    transform: translateX(-50%) scale(1.02);
  }
  50% {
    opacity: 0.03;
    transform: translateX(-50%) scale(0.98);
  }
  75% {
    opacity: 0.05;
    transform: translateX(-50%) scale(1.01);
  }
}

/* ============================================================================
   SVG FILTER DEFINITIONS
   ============================================================================ */

#parchmentTexture {
  /* Applied to .parchment-background via filter: url() */
}

/* ============================================================================
   PERFORMANCE OPTIMIZATIONS
   ============================================================================ */

.parchment-background,
.candle-glow {
  will-change: auto; /* Only animate when necessary */
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

/* Respect user's motion preferences */
@media (prefers-reduced-motion: reduce) {
  .candle-glow {
    animation: none;
  }
}
